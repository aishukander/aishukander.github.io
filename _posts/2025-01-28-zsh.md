---
title: zsh
date: 2025-01-28 19:03 +0800
categories: [教學]
tags: [ArchLinux, zsh]
description: 更改shell至zsh
---

## 安裝zsh跟oh-my-zsh
```zsh
sudo pacman -S git curl zsh
sh -c "$(curl -fsSL https://install.ohmyz.sh/)"
```
切換預設shell後需要重新登錄或重開電腦。 <br>

## 安裝插件
```zsh
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

## 配置插件
進入當前使用者的zsh配置文件。 <br>
```zsh
  nano ~/.zshrc
```

找到plugins改成以下來開啟z、git、web-search、zsh-syntax-highlighting、zsh-autosuggestions。 <br>
```text
plugins=(z git web-search zsh-syntax-highlighting zsh-autosuggestions)
```

* [z](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/z)，快速跳轉路徑。
* [git](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git)，提供一些常用的git命令。
* [web-search](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/web-search)，開啟瀏覽器搜尋。
* [zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting)，提示語法是否正確。
* [zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)，自動補全。

## 更改一些設定
* 更改EDITOR為nano。
* 自動補全邏輯改為從歷史記錄中查找建議，沒有歷史建議則提示參數或子路徑。
* 更改自動補全提示的顏色來避免在One Dark下看不到提示。

```zsh
echo "export EDITOR=nano" >> ~/.zshrc
echo "export ZSH_AUTOSUGGEST_STRATEGY=(history completion)" >> ~/.zshrc
echo "export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#626262"" >> ~/.zshrc
```

## 更改主題
進入當前使用者的zsh配置文件。 <br>
```zsh
nano ~/.zshrc
```

找到ZSH_THEME=""。 <br>
[內建主題](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes)，個人推薦agnoster。 <br>

## 重新載入配置
使用指令或直接重開就好。 <br>
```zsh
source ~/.zshrc
```
